apply plugin: 'java'
apply plugin: 'application'

mainClassName = 'cliquefinder.Main'
repositories {
  mavenCentral()
}

sourceCompatibility = 1.8
targetCompatibility = 1.8

dependencies {
    compile 'com.google.guava:guava:22.0'
    compile 'org.asynchttpclient:async-http-client:2.1.0-alpha21'
    compile group: 'io.reactivex.rxjava2', name: 'rxjava', version: '2.1.1'
    compile group: 'com.google.code.gson', name: 'gson', version: '2.8.1'
    compile group: 'org.slf4j', name: 'slf4j-simple', version: '1.7.25'

    testCompile 'org.testng:testng:6.11'
    testCompile "com.github.tomakehurst:wiremock:2.7.1"
}

run {
    /* Need to split the space-delimited value in the exec.args */

    environment "BEARER_CODE", "<ENTER_CODE_HERE>"
    if (System.getProperty("exec.args")) {
        args System.getProperty("exec.args").split()
    }
}

test {
  useTestNG {
    useDefaultListeners = true
  }
  include '**/*Test.class'
}
